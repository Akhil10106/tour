/* * TripSplit Premium UI Framework v5.0

 * Features: High-End Shadow Logic, Activity-First Cards, Smooth Modals

 */



/* --- 1. DESIGN TOKENS & VARIABLES --- */

:root {

    --primary: #2563eb;

    --primary-hover: #1d4ed8;

    --primary-soft: #eff6ff;

    --primary-glow: rgba(37, 99, 235, 0.15);

    

    --success: #10b981;

    --success-soft: #ecfdf5;

    --danger: #ef4444;

    --danger-soft: #fef2f2;

    --warning: #f59e0b;

    --warning-soft: #fffbeb;

    

    --bg-main: #f8fafc;

    --bg-card: #ffffff;

    --text-main: #0f172a;

    --text-muted: #64748b;

    --text-light: #94a3b8;

    

    --border: #e2e8f0;

    --border-light: #f1f5f9;



    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);

    --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.08);

    --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

}



/* --- 2. CORE RESET & BASE --- */

* {

    margin: 0; padding: 0; box-sizing: border-box;

    -webkit-tap-highlight-color: transparent;

}



body {

    background-color: var(--bg-main);

    color: var(--text-main);

    font-family: 'Inter', system-ui, -apple-system, sans-serif;

    min-height: 100vh;

    display: flex;

    overflow-x: hidden;

}



/* --- 3. SIDEBAR (DESKTOP) --- */

.sidebar {

    width: 280px;

    background: var(--bg-card);

    border-right: 1px solid var(--border);

    position: fixed;

    height: 100vh;

    padding: 2.5rem 1.5rem;

    display: flex;

    flex-direction: column;

    z-index: 100;

}



.logo {

    display: flex;

    align-items: center;

    gap: 12px;

    font-size: 1.6rem;

    font-weight: 900;

    margin-bottom: 3rem;

}



.logo-box {

    background: linear-gradient(135deg, var(--primary), var(--primary-hover));

    color: white; width: 42px; height: 42px;

    border-radius: 12px; display: flex;

    align-items: center; justify-content: center;

    box-shadow: 0 8px 16px -4px var(--primary-glow);

}



.nav-link {

    display: flex; align-items: center; gap: 12px;

    padding: 14px 18px; border-radius: 16px;

    color: var(--text-muted); font-weight: 600;

    border: none; background: transparent;

    cursor: pointer; margin-bottom: 8px; width: 100%;

    transition: 0.25s;

}



.nav-link:hover { background: var(--primary-soft); color: var(--primary); }

.nav-link.active { background: var(--primary); color: white; box-shadow: var(--shadow-md); }



/* --- 4. MAIN LAYOUT ENGINE --- */

.main-content {

    margin-left: 280px; flex: 1;

    padding: 3.5rem 4rem; max-width: 1440px;

}



.header {

    display: flex; justify-content: space-between;

    align-items: flex-end; margin-bottom: 3rem;

}



.header-text h1 { font-size: 2.5rem; font-weight: 900; letter-spacing: -0.05em; }



/* --- 5. STATS SYSTEM --- */

.stats-grid {

    display: grid; grid-template-columns: repeat(4, 1fr);

    gap: 1.5rem; margin-bottom: 3rem;

}



.stat-card {

    background: var(--bg-card); padding: 1.75rem;

    border-radius: 30px; border: 1px solid var(--border-light);

    box-shadow: var(--shadow-sm); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



.stat-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-lg); }

.stat-label { font-size: 0.75rem; font-weight: 800; text-transform: uppercase; color: var(--text-muted); margin-bottom: 8px; }

.stat-value { font-size: 1.8rem; font-weight: 900; }



/* --- 6. SMART SETTLEMENT CARDS (ACTIVITY-WISE) --- */

.detailed-grid {

    display: grid; grid-template-columns: 1fr; gap: 1rem;

}



.activity-card {

    background: white;

    border-radius: 24px;

    padding: 1.5rem;

    border: 1px solid var(--border-light);

    box-shadow: var(--shadow-sm);

    display: flex;

    flex-direction: column;

    gap: 12px;

    transition: 0.3s;

    border-left: 6px solid var(--primary);

}



.activity-card:hover {

    box-shadow: var(--shadow-md);

    transform: scale(1.01);

}



.activity-header {

    display: flex; justify-content: space-between; align-items: center;

}



.activity-title { font-weight: 800; font-size: 1.1rem; color: var(--text-main); }

.activity-amount { font-weight: 900; font-size: 1.2rem; color: var(--primary); }



.debt-line {

    display: flex; justify-content: space-between; align-items: center;

    padding-top: 10px; border-top: 1px dashed var(--border);

}



.debt-info { font-size: 0.9rem; font-weight: 600; color: var(--text-muted); }

.debt-info strong { color: var(--text-main); font-weight: 800; }



/* --- 7. MEMBER LIST & PROFILE --- */

.member-card {

    display: flex; align-items: center; justify-content: space-between;

    cursor: pointer;

}



.member-profile-btn {

    display: flex; align-items: center; gap: 15px; border: none; background: transparent; cursor: pointer; text-align: left;

}



.member-avatar {

    width: 45px; height: 45px; background: var(--primary-soft);

    color: var(--primary); border-radius: 50%;

    display: flex; align-items: center; justify-content: center;

    font-weight: 900; font-size: 1.2rem;

}



.history-list {

    max-height: 350px; overflow-y: auto; margin-top: 1rem;

}



.activity-node {

    padding: 1rem; border-left: 4px solid var(--border);

    background: var(--bg-main); border-radius: 0 12px 12px 0;

    margin-bottom: 10px; font-size: 0.9rem;

}



/* --- 8. BUTTONS & UI ELEMENTS --- */

.btn {

    padding: 14px 24px; border-radius: 18px; font-weight: 800;

    cursor: pointer; border: none; display: inline-flex;

    align-items: center; gap: 8px; transition: 0.3s;

}



.btn-primary { background: var(--primary); color: white; box-shadow: 0 8px 15px var(--primary-glow); }

.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 12px 20px var(--primary-glow); }



.badge {

    padding: 6px 12px; border-radius: 100px; font-size: 0.7rem;

    font-weight: 900; text-transform: uppercase;

}



.badge-travel { background: var(--primary-soft); color: var(--primary); }

.badge-success { background: var(--success-soft); color: var(--success); }



/* --- 9. MODALS --- */

.modal {

    position: fixed; inset: 0; background: rgba(15, 23, 42, 0.4);

    backdrop-filter: blur(8px); display: none;

    align-items: center; justify-content: center; z-index: 2000;

}



.modal-content {

    background: white; width: 100%; max-width: 500px;

    padding: 2.5rem; border-radius: 40px;

    box-shadow: var(--shadow-lg); animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



@keyframes pop { from { opacity: 0; transform: scale(0.9) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }



.modal-handle { width: 40px; height: 5px; background: #e2e8f0; border-radius: 10px; margin: -10px auto 20px; }



/* --- 10. MOBILE ADAPTATION --- */

@media (max-width: 1024px) {

    .sidebar { display: none; }

    .main-content { margin-left: 0; padding: 2rem; padding-bottom: 100px; }

    .stats-grid { grid-template-columns: repeat(2, 1fr); }

    

    .mobile-nav {

        position: fixed; bottom: 15px; left: 15px; right: 15px;

        background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px);

        padding: 12px; border-radius: 24px; display: flex;

        justify-content: space-around; border: 1px solid white;

        box-shadow: var(--shadow-lg); z-index: 1000;

    }

    

    .m-nav-item { border: none; background: transparent; display: flex; flex-direction: column; align-items: center; font-size: 0.65rem; font-weight: 800; color: var(--text-muted); gap: 4px; }

    .m-nav-item.active { color: var(--primary); }



    .modal-content { position: fixed; bottom: 0; border-radius: 35px 35px 0 0; }

}



/* --- 11. TABLE TO CARDS (MOBILE) --- */

@media (max-width: 768px) {

    #expenses-table, thead, tbody, th, td, tr { display: block; }

    thead { display: none; }

    tr { background: white; padding: 1.5rem; border-radius: 24px; margin-bottom: 1rem; box-shadow: var(--shadow-sm); border: 1px solid var(--border-light); }

    td { padding: 5px 0; border: none !important; }

}



.hidden { display: none !important; }



/* --- EXPENSE MODAL SMART LAYOUT --- */



/* Side-by-side Amount and Category */

.input-row {

    display: flex;

    gap: 15px;

    margin-bottom: 1rem;

}



.input-row .input-group {

    flex: 1;

    margin-bottom: 0; /* Reset margin for row items */

}



/* The Member Selection Grid */

.checkbox-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));

    gap: 10px;

    margin-top: 10px;

    max-height: 150px;

    overflow-y: auto;

    padding: 5px;

}



/* Custom Styled Checkbox Tiles */

.checkbox-grid label {

    display: flex;

    align-items: center;

    justify-content: center;

    padding: 10px;

    background: var(--bg-main);

    border: 2px solid transparent;

    border-radius: 14px;

    cursor: pointer;

    font-size: 0.85rem;

    font-weight: 700;

    transition: all 0.2s ease;

    text-align: center;

}



/* When the hidden checkbox is checked, style the parent label */

.checkbox-grid label:has(input:checked) {

    background: var(--primary-soft);

    border-color: var(--primary);

    color: var(--primary);

}



/* Hide the actual ugly checkbox but keep it functional */

.checkbox-grid input[type="checkbox"] {

    display: none;

}



/* Modal Action Buttons */

.modal-btns {

    display: flex;

    gap: 12px;

    margin-top: 2rem;

}



.modal-btns .btn {

    flex: 1;

    justify-content: center;

}



/* Mobile Adjustments for the Pop-up */

@media (max-width: 600px) {

    .input-row {

        flex-direction: column;

        gap: 0;

    }

    .checkbox-grid {

        grid-template-columns: repeat(2, 1fr);

    }

}



/* * TripSplit Premium UI Framework v5.0

 * Features: High-End Shadow Logic, Activity-First Cards, Smooth Modals

 */



/* --- 1. DESIGN TOKENS & VARIABLES --- */

:root {

    --primary: #2563eb;

    --primary-hover: #1d4ed8;

    --primary-soft: #eff6ff;

    --primary-glow: rgba(37, 99, 235, 0.15);

    

    --success: #10b981;

    --success-soft: #ecfdf5;

    --danger: #ef4444;

    --danger-soft: #fef2f2;

    --warning: #f59e0b;

    --warning-soft: #fffbeb;

    

    --bg-main: #f8fafc;

    --bg-card: #ffffff;

    --text-main: #0f172a;

    --text-muted: #64748b;

    --text-light: #94a3b8;

    

    --border: #e2e8f0;

    --border-light: #f1f5f9;



    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);

    --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.08);

    --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

}



/* --- 2. CORE RESET & BASE --- */

* {

    margin: 0; padding: 0; box-sizing: border-box;

    -webkit-tap-highlight-color: transparent;

}



body {

    background-color: var(--bg-main);

    color: var(--text-main);

    font-family: 'Inter', system-ui, -apple-system, sans-serif;

    min-height: 100vh;

    display: flex;

    overflow-x: hidden;

}



/* --- 3. INPUTS & FORM ELEMENTS (FIXED) --- */

.input-group { margin-bottom: 1.5rem; width: 100%; }



.input-group label {

    display: block;

    font-size: 0.75rem;

    font-weight: 800;

    color: var(--text-muted);

    text-transform: uppercase;

    letter-spacing: 0.05em;

    margin-bottom: 8px;

}



/* THIS SECTION WAS MISSING - IT STYLES THE BOXES */

input[type="text"], 

input[type="number"], 

select {

    width: 100%;

    padding: 14px 18px;

    border-radius: 16px;

    background: var(--bg-main);

    border: 2px solid transparent;

    font-family: inherit;

    font-size: 1rem;

    font-weight: 600;

    color: var(--text-main);

    transition: 0.2s all ease;

}



input:focus, select:focus {

    outline: none;

    background: white;

    border-color: var(--primary);

    box-shadow: 0 0 0 4px var(--primary-soft);

}



/* --- 4. SIDEBAR (DESKTOP) --- */

.sidebar {

    width: 280px; background: var(--bg-card);

    border-right: 1px solid var(--border);

    position: fixed; height: 100vh;

    padding: 2.5rem 1.5rem; display: flex;

    flex-direction: column; z-index: 100;

}



.logo { display: flex; align-items: center; gap: 12px; font-size: 1.6rem; font-weight: 900; margin-bottom: 3rem; }



.logo-box {

    background: linear-gradient(135deg, var(--primary), var(--primary-hover));

    color: white; width: 42px; height: 42px;

    border-radius: 12px; display: flex;

    align-items: center; justify-content: center;

    box-shadow: 0 8px 16px -4px var(--primary-glow);

}



.nav-link {

    display: flex; align-items: center; gap: 12px;

    padding: 14px 18px; border-radius: 16px;

    color: var(--text-muted); font-weight: 600;

    border: none; background: transparent;

    cursor: pointer; margin-bottom: 8px; width: 100%;

    transition: 0.25s;

}



.nav-link:hover { background: var(--primary-soft); color: var(--primary); }

.nav-link.active { background: var(--primary); color: white; box-shadow: var(--shadow-md); }



/* --- 5. MAIN LAYOUT & MODALS --- */

.main-content { margin-left: 280px; flex: 1; padding: 3.5rem 4rem; max-width: 1440px; }



.modal {

    position: fixed; inset: 0; background: rgba(15, 23, 42, 0.4);

    backdrop-filter: blur(8px); display: none;

    align-items: center; justify-content: center; z-index: 2000;

}



.modal-content {

    background: white; width: 100%; max-width: 500px;

    padding: 2.5rem; border-radius: 40px;

    box-shadow: var(--shadow-lg); animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



.modal-handle { width: 40px; height: 5px; background: #e2e8f0; border-radius: 10px; margin: -10px auto 20px; }



/* --- 6. EXPENSE MODAL SMART LAYOUT (FIXED) --- */

.input-row { display: flex; gap: 15px; margin-bottom: 1rem; }

.input-row .input-group { flex: 1; margin-bottom: 0; }



.checkbox-grid {

    display: grid;

    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));

    gap: 10px; margin-top: 10px;

    max-height: 200px; overflow-y: auto; padding: 5px;

}



.checkbox-grid label {

    display: flex; align-items: center; justify-content: center;

    padding: 12px; background: var(--bg-main);

    border: 2px solid transparent; border-radius: 14px;

    cursor: pointer; font-size: 0.85rem; font-weight: 700;

    transition: 0.2s; text-align: center;

}



/* Highlight the tile when checkbox is checked */

.checkbox-grid input:checked + span, 

.checkbox-grid label:has(input:checked) {

    background: var(--primary-soft);

    border-color: var(--primary);

    color: var(--primary);

}



.checkbox-grid input[type="checkbox"] { display: none; }



.modal-btns { display: flex; gap: 12px; margin-top: 2rem; }

.modal-btns .btn { flex: 1; justify-content: center; }



/* --- 7. BUTTONS --- */

.btn {

    padding: 14px 24px; border-radius: 18px; font-weight: 800;

    cursor: pointer; border: none; display: inline-flex;

    align-items: center; gap: 8px; transition: 0.3s;

}



.btn-primary { background: var(--primary); color: white; box-shadow: 0 8px 15px var(--primary-glow); }

.btn-white { background: white; color: var(--text-main); border: 1px solid var(--border); }



/* --- 8. MOBILE ADAPTATION --- */

@media (max-width: 1024px) {

    .sidebar { display: none; }

    .main-content { margin-left: 0; padding: 2rem; padding-bottom: 100px; }

    

    .mobile-nav {

        position: fixed; bottom: 15px; left: 15px; right: 15px;

        background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px);

        padding: 12px; border-radius: 24px; display: flex;

        justify-content: space-around; border: 1px solid white;

        box-shadow: var(--shadow-lg); z-index: 1000;

    }

    

    .m-nav-item { border: none; background: transparent; display: flex; flex-direction: column; align-items: center; font-size: 0.65rem; font-weight: 800; color: var(--text-muted); gap: 4px; }

    .m-nav-item.active { color: var(--primary); }

    .modal-content { position: fixed; bottom: 0; border-radius: 35px 35px 0 0; }

}



/* Utilities */

.hidden { display: none !important; }

@keyframes pop { from { opacity: 0; transform: scale(0.9) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }





/* Debugging the Select Dropdown */

select#exp-category {

    display: block !important; /* Force display */

    appearance: none; /* Clear default mobile styling */

    -webkit-appearance: none;

    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");

    background-repeat: no-repeat;

    background-position: right 15px center;

    background-size: 18px;

    cursor: pointer;

    min-height: 50px; /* Ensure it has height */

    background-color: var(--bg-main);

}



/* Ensure the modal content doesn't hide the dropdown overflow */

.modal-content {

    overflow: visible !important;

}



/* Update Badge Colors for new categories */

.badge-stay { background: #ede9fe; color: #5b21b6; }

.badge-others { background: #f1f5f9; color: #475569; }



/* --- 1. SMART RESPONSIVE GRID FOR MEMBERS --- */

#members-grid {

    display: grid;

    /* This tells the grid: "Create as many columns as fit, but each must be at least 280px" */

    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

    gap: 1.5rem;

    width: 100%;

    align-items: start;

}



/* --- 2. PREVENT EMPTY LOOK ON LARGE SCREENS --- */

@media (min-width: 1440px) {

    #members-grid {

        grid-template-columns: repeat(4, 1fr); /* 4 consistent columns on huge screens */

    }

}



/* --- 3. MEMBER CARD POLISH --- */

.member-card {

    display: flex;

    align-items: center;

    justify-content: space-between;

    padding: 1.5rem;

    background: var(--bg-card);

    border-radius: 28px;

    border: 1px solid var(--border-light);

    box-shadow: var(--shadow-sm);

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

}



.member-card:hover {

    transform: translateY(-5px);

    box-shadow: var(--shadow-md);

    border-color: var(--primary-soft);

}



/* --- 4. THE DYNAMIC ADD CARD (The Green Box) --- */

/* This ensures the green "Add Member" card matches the size of other cards */

.mobile-add-member {

    display: flex;

    flex-direction: column;

    align-items: center;

    justify-content: center;

    text-align: center;

    min-height: 120px;

}



@media (max-width: 1024px) {

    /* ... existing mobile styles ... */



    .mobile-nav {

        padding: 10px 5px; /* Reduce side padding for 5 items */

        gap: 5px;

    }



    .m-nav-item {

        flex: 1; /* Ensure all items take equal width */

        font-size: 0.6rem; /* Slightly smaller text for 5 items */

    }

}



/* --- SMART RESPONSIVE MEMBERS GRID --- */

#members-grid {

    display: grid;

    gap: 1.5rem;

    width: 100%;

    align-items: start;

    /* Default for Mobile: 1 column */

    grid-template-columns: 1fr; 

}



/* Tablet and Desktop View */

@media (min-width: 768px) {

    #members-grid {

        /* Forces exactly 2 columns by requiring each card to be at least 45% wide */

        grid-template-columns: repeat(auto-fit, minmax(45%, 1fr));

    }

}



/* Optional: Limit width on very large screens so cards don't get too stretched */

@media (min-width: 1200px) {

    #members-grid {

        grid-template-columns: repeat(2, 1fr);

        max-width: 1000px; /* Keeps the 2-column layout tight and professional */

    }

}



/* Member Card Polish */

.member-card {

    display: flex;

    align-items: center;

    justify-content: space-between;

    padding: 1.5rem;

    background: var(--bg-card);

    border-radius: 28px;

    border: 1px solid var(--border-light);

    box-shadow: var(--shadow-sm);

    transition: all 0.3s ease;

}



.member-card:hover {

    transform: translateY(-4px);

    box-shadow: var(--shadow-md);

}

/* --- ENHANCED ACTIVITY FEED --- */

#activity-feed {

    display: flex;

    flex-direction: column;

    gap: 12px;

    max-height: 450px;

    overflow-y: auto;

    padding-right: 8px;

}



.activity-card-mini {

    background: var(--bg-card);

    border-radius: 18px;

    padding: 12px 16px;

    display: flex;

    align-items: center;

    gap: 12px;

    border: 1px solid var(--border-light);

    box-shadow: var(--shadow-sm);

    transition: 0.3s ease;

    animation: slideIn 0.3s ease-out;

}



.activity-card-mini:hover {

    transform: translateX(5px);

    box-shadow: var(--shadow-md);

}



.activity-icon {

    width: 36px;

    height: 36px;

    border-radius: 10px;

    display: flex;

    align-items: center;

    justify-content: center;

    flex-shrink: 0;

}



.activity-info {

    flex: 1;

}



.activity-text {

    font-size: 0.85rem;

    font-weight: 700;

    color: var(--text-main);

    line-height: 1.3;

}



.activity-time {

    font-size: 0.7rem;

    color: var(--text-light);

    font-weight: 600;

    margin-top: 2px;

    display: block;

}



/* Color Coding by Type */

.act-join { border-left: 4px solid var(--success); }

.act-join .activity-icon { background: var(--success-soft); color: var(--success); }



.act-expense { border-left: 4px solid var(--primary); }

.act-expense .activity-icon { background: var(--primary-soft); color: var(--primary); }



.act-settle { border-left: 4px solid var(--warning); }

.act-settle .activity-icon { background: var(--warning-soft); color: var(--warning); }



@keyframes slideIn {

    from { opacity: 0; transform: translateX(-10px); }

    to { opacity: 1; transform: translateX(0); }

}

/* Color Coding for Activity Feed */

.act-join { border-left: 4px solid var(--success) !important; }

.act-join .activity-icon { background: var(--success-soft); color: var(--success); }



.act-expense { border-left: 4px solid var(--primary) !important; }

.act-expense .activity-icon { background: var(--primary-soft); color: var(--primary); }



.act-settle { border-left: 4px solid var(--warning) !important; }

.act-settle .activity-icon { background: var(--warning-soft); color: var(--warning); }



/* --- ADVANCED FILTER PANEL --- */

.filter-panel {

    position: absolute;

    top: 100%;

    right: 0;

    width: 220px;

    background: white;

    border-radius: 20px;

    padding: 1.5rem;

    box-shadow: var(--shadow-lg);

    border: 1px solid var(--border-light);

    z-index: 1000;

    margin-top: 10px;

    animation: slideDown 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



.filter-group {

    margin-bottom: 1rem;

}



.filter-group:last-child { margin-bottom: 0; }



.filter-group label {

    display: block;

    font-size: 0.65rem;

    font-weight: 800;

    color: var(--text-muted);

    text-transform: uppercase;

    margin-bottom: 5px;

}



.filter-group select {

    padding: 8px 12px;

    font-size: 0.85rem;

    border-radius: 10px;

    background: var(--bg-main);

}



@keyframes slideDown {

    from { opacity: 0; transform: translateY(-10px); }

    to { opacity: 1; transform: translateY(0); }

}



.icon-btn.active-filter {

    background: var(--primary) !important;

    color: white !important;

}



/* --- PREMIUM FLOATING MODAL ENGINE --- */

.modal {

    position: fixed; 

    inset: 0; 

    background: rgba(15, 23, 42, 0.3); /* Subtle dark overlay */

    backdrop-filter: blur(12px); /* Blurred background for focus */

    display: none;

    align-items: center; 

    justify-content: center; 

    padding: 2rem;

    z-index: 2000;

    transition: opacity 0.3s ease;

}



.modal-content {

    background: white;

    width: 100%;

    max-width: 550px; /* Limits width so it doesn't cover the screen */

    max-height: 85vh; /* Prevents overflow off-screen */

    padding: 2.5rem;

    border-radius: 40px;

    box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.25);

    border: 1px solid rgba(255, 255, 255, 0.8);

    overflow-y: auto; /* Enable scrolling for long content */

    position: relative;

    animation: modalSpring 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);

}



/* --- CUSTOM COLORFUL SCROLLBAR --- */

/* Matches the TripSplit Blue UI */

.modal-content::-webkit-scrollbar {

    width: 6px;

}



.modal-content::-webkit-scrollbar-track {

    background: var(--bg-main);

    border-radius: 10px;

}



.modal-content::-webkit-scrollbar-thumb {

    background: linear-gradient(var(--primary), var(--primary-hover));

    border-radius: 10px;

}



.modal-content::-webkit-scrollbar-thumb:hover {

    background: var(--primary-hover);

}



/* --- ANIMATION --- */

@keyframes modalSpring {

    from { 

        opacity: 0; 

        transform: scale(0.9) translateY(30px); 

    }

    to { 

        opacity: 1; 

        transform: scale(1) translateY(0); 

    }

}



/* --- MOBILE ADAPTATION (Bottom Sheet) --- */

@media (max-width: 768px) {

    .modal {

        align-items: flex-end; /* Sticks to bottom on mobile */

        padding: 0;

    }



    .modal-content {

        max-width: 100%;

        border-radius: 35px 35px 0 0;

        max-height: 90vh;

        padding: 2rem 1.5rem 3rem;

        animation: slideUpMobile 0.4s ease-out;

    }

}



@keyframes slideUpMobile {

    from { transform: translateY(100%); }

    to { transform: translateY(0); }

}



/* --- PREMIUM EXPENSES LEDGER --- */

.table-container {

    background: transparent;

    padding: 0;

    box-shadow: none;

    margin-top: 1rem;

}



#expenses-table {

    width: 100%;

    border-collapse: separate;

    border-spacing: 0 12px; /* Creates the "Floating Row" effect */

}



#expenses-table thead th {

    padding: 10px 20px;

    font-size: 0.75rem;

    font-weight: 800;

    text-transform: uppercase;

    color: var(--text-light);

    letter-spacing: 0.1em;

    text-align: left;

}



/* --- DESKTOP ROW STYLE --- */

.table-row-hover {

    background: white;

    border-radius: 20px;

    box-shadow: var(--shadow-sm);

    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

}



.table-row-hover:hover {

    transform: scale(1.01) translateX(5px);

    box-shadow: var(--shadow-md);

    z-index: 10;

}



.table-row-hover td {

    padding: 1.5rem 1.25rem;

    border: none;

}



.table-row-hover td:first-child { border-radius: 20px 0 0 20px; }

.table-row-hover td:last-child { border-radius: 0 20px 20px 0; }



/* --- BILL DETAILS MICRO-UI --- */

.bill-info {

    display: flex;

    flex-direction: column;

    gap: 4px;

}



.bill-title {

    font-weight: 800;

    font-size: 1.1rem;

    color: var(--text-main);

}



.bill-date {

    font-size: 0.75rem;

    color: var(--text-light);

    font-weight: 600;

}



.bill-amount {

    font-size: 1.2rem;

    font-weight: 900;

    color: var(--primary);

}



/* --- MOBILE ADAPTIVE UI (TRANSFORMS TABLE TO CARDS) --- */

@media (max-width: 768px) {

    #expenses-table, 

    #expenses-table thead, 

    #expenses-table tbody, 

    #expenses-table th, 

    #expenses-table td, 

    #expenses-table tr { 

        display: block; 

    }



    #expenses-table thead { display: none; } /* Hide headers on mobile */



    .table-row-hover {

        margin-bottom: 1.5rem;

        padding: 1.5rem;

        border-radius: 30px;

        position: relative;

        border: 1px solid var(--border-light);

    }



    .table-row-hover td {

        padding: 6px 0 !important;

        display: flex;

        justify-content: space-between;

        align-items: center;

    }



    /* Make Amount big and bold on Mobile */

    .bill-amount {

        font-size: 1.4rem;

        margin: 10px 0;

        display: block;

    }



    /* Position Delete button in corner */

    .action-cell {

        position: absolute;

        top: 1.5rem;

        right: 1.5rem;

    }

}



/* --- AUTHENTICATION UI --- */

#auth-overlay {

    position: fixed;

    inset: 0;

    background: var(--bg-main);

    z-index: 5000;

    display: flex;

    align-items: center;

    justify-content: center;

    padding: 2rem;

}



.auth-card {

    background: white;

    padding: 3rem;

    border-radius: 40px;

    box-shadow: var(--shadow-lg);

    max-width: 400px;

    width: 100%;

    text-align: center;

    border: 1px solid var(--border-light);

}



#google-login-btn {

    background: white;

    color: var(--text-main);

    border: 2px solid var(--border);

    margin-top: 1rem;

    transition: 0.3s;

}



#google-login-btn:hover {

    background: var(--bg-main);

    border-color: var(--primary);

    transform: translateY(-2px);

}







@media (max-width: 768px) {

    #expenses-table, thead, tbody, th, td, tr { display: block; }

    thead { display: none; }

    .table-row-hover { margin-bottom: 1rem; padding: 1.5rem; position: relative; border: 1px solid var(--border-light); }

    .table-row-hover td { padding: 8px 0 !important; display: flex; justify-content: space-between; align-items: center; }

    .action-cell { position: absolute; top: 1.5rem; right: 1.5rem; }

    

    /* --- MOBILE MODAL SCROLLING UPDATE --- */

    .modal { 

        align-items: flex-end; 

        padding: 0; 

    }



    .modal-content { 

        max-width: 100%; 

        border-radius: 35px 35px 0 0; 

        max-height: 85vh; /* Sets height to 85% of screen */

        padding: 2rem 1.5rem 3rem; 

        overflow-y: auto; /* Enables scrolling */

        -webkit-overflow-scrolling: touch; /* Smooth momentum scrolling for iOS */

    }



    /* Option: Hide scrollbar visually on mobile but keep it working */

    .modal-content::-webkit-scrollbar {

        display: none; 

    }

    .modal-content {

        -ms-overflow-style: none;  /* IE and Edge */

        scrollbar-width: none;  /* Firefox */

    }

}



/* --- 1. GLOBAL MODAL SCROLLBAR (Ensure it's always available) --- */

.modal-content {

    background: white;

    width: 100%;

    max-width: 550px;

    max-height: 85vh; /* Limits height to 85% of the screen */

    padding: 2.5rem;

    border-radius: 40px;

    box-shadow: var(--shadow-lg);

    position: relative;

    animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    

    /* THE FIX: Enable scrolling */

    overflow-y: auto !important; 

    display: flex;

    flex-direction: column;

}



/* COLORFUL SCROLLBAR FOR THE POP-UP */

.modal-content::-webkit-scrollbar {

    width: 6px;

    display: block !important; /* Forces scrollbar to show */

}



.modal-content::-webkit-scrollbar-track {

    background: var(--bg-main);

    border-radius: 10px;

    margin: 20px 0; /* Adds spacing at top/bottom of bar */

}



.modal-content::-webkit-scrollbar-thumb {

    background: linear-gradient(var(--primary), var(--primary-hover));

    border-radius: 10px;

}



/* --- 2. MOBILE SPECIFIC SCROLL FIX --- */

@media (max-width: 768px) {

    .modal {

        align-items: flex-end; /* Slides up from bottom */

        padding: 0;

    }



    .modal-content {

        max-width: 100%;

        border-radius: 35px 35px 0 0;

        max-height: 90vh; /* Takes most of the screen on mobile */

        padding: 2rem 1.5rem 4rem; /* Extra bottom padding for "Save" button */

        

        /* Ensure scrolling is super smooth on phones */

        overflow-y: auto !important;

        -webkit-overflow-scrolling: touch; 

    }

    

    /* Keep scrollbar visible but thin on mobile */

    .modal-content::-webkit-scrollbar {

        width: 4px;

    }

}



/* --- MOBILE PROFILE HEADER STYLES --- */

@media (max-width: 1024px) {

    .mobile-profile-header {

        display: flex !important;

        justify-content: space-between;

        align-items: center;

        background: white;

        padding: 12px 1.5rem;

        margin: -1rem -1rem 1.5rem -1rem; /* Aligns with screen edges */

        border-bottom: 1px solid var(--border-light);

        position: sticky;

        top: 0;

        z-index: 900;

    }

}



@media (max-width: 1024px) {

    .mobile-profile-header {

        display: flex !important; /* Force visibility on small screens */

        justify-content: space-between;

        align-items: center;

        background: white;

        padding: 12px 1.5rem;

        border-bottom: 1px solid var(--border-light);

        position: sticky;

        top: 0;

        z-index: 2000;

        margin: -1.5rem -1.5rem 1.5rem -1.5rem; /* Aligns to edges */

    }

}



/* --- CRITICAL MOBILE PROFILE FIX --- */

@media (max-width: 1024px) {

    .mobile-profile-header {

        display: flex !important; /* Force display on mobile */

        justify-content: space-between;

        align-items: center;

        background: rgba(255, 255, 255, 0.8);

        backdrop-filter: blur(10px);

        padding: 12px 1.5rem;

        border-bottom: 1px solid var(--border-light);

        position: sticky;

        top: 0;

        z-index: 2000;

        margin: -1.5rem -1.5rem 2rem -1.5rem; /* Aligns to screen edges */

    }



    /* Ensure the mobile profile elements look premium */

    .m-user-info { display: flex; align-items: center; gap: 12px; }

    #user-photo-mobile { 

        width: 38px; height: 38px; border-radius: 50%; 

        border: 2px solid white; box-shadow: var(--shadow-sm); 

    }

    #user-name-mobile { font-weight: 850; font-size: 0.95rem; color: var(--text-main); }

}

/* --- PROFILE SECTION PLATINUM STYLING --- */

#profile-section {
    animation: slideUp 0.5s ease-out;
}

.profile-container {
    max-width: 900px;
    margin: 0 auto;
}

/* 1. Profile Hero Area */
.profile-hero {
    background: white;
    padding: 3rem;
    border-radius: 40px;
    border: 1px solid var(--border-light);
    display: flex;
    align-items: center;
    gap: 30px;
    margin-bottom: 2rem;
    position: relative;
    box-shadow: var(--shadow-md);
}

.profile-avatar-wrapper {
    position: relative;
    flex-shrink: 0;
}

#main-profile-photo {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 4px solid white;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    object-fit: cover;
}

.online-indicator {
    width: 24px;
    height: 24px;
    background: var(--success);
    border: 4px solid white;
    border-radius: 50%;
    position: absolute;
    bottom: 5px;
    right: 5px;
}

.profile-meta h2 {
    font-size: 2rem;
    font-weight: 950;
    color: var(--text-main);
    letter-spacing: -0.04em;
}

#main-profile-email {
    color: var(--text-muted);
    font-weight: 600;
    margin-bottom: 15px;
}

.admin-badge {
    display: inline-flex;
    align-items: center;
    padding: 6px 14px;
    background: var(--primary-soft);
    color: var(--primary);
    border-radius: 100px;
    font-size: 0.75rem;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.btn-signout-main {
    margin-left: auto;
    background: var(--danger-soft);
    color: var(--danger);
    border: none;
    padding: 12px 20px;
    border-radius: 16px;
    font-weight: 800;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: 0.3s;
}

.btn-signout-main:hover {
    background: var(--danger);
    color: white;
    transform: scale(1.05);
}

/* 2. Profile Stats Grid */
.profile-stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-bottom: 2.5rem;
}

.p-stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 30px;
    display: flex;
    align-items: center;
    gap: 15px;
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-sm);
    transition: 0.3s;
}

.p-stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
}

.p-icon {
    width: 50px;
    height: 50px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-icon i { width: 22px; }

.p-label {
    display: block;
    font-size: 0.75rem;
    font-weight: 800;
    color: var(--text-muted);
    text-transform: uppercase;
}

.p-val {
    font-size: 1.4rem;
    font-weight: 900;
    color: var(--text-main);
}

/* 3. Personal Ledger (List of transactions) */
.detailed-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Mobile Responsive Fixes for Profile */
@media (max-width: 768px) {
    .profile-hero {
        flex-direction: column;
        text-align: center;
        padding: 2.5rem 1.5rem;
    }

    .btn-signout-main {
        margin: 1rem auto 0;
    }

    .profile-stats-grid {
        grid-template-columns: 1fr;
    }

    #main-profile-photo {
        width: 100px;
        height: 100px;
    }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
